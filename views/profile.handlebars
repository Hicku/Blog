{{>navbar logged_in=logged_in}}

<div class="profile-data-div">
    <h2 class="username-title">{{currentProfile.username}}</h2>
    <div class="follow-button-element" 
        data-follower-id={{follower_id}} 
        data-followee-id={{followee_id}}>
        {{#if (is_following followed)}}
            {{#if (is_current_user currentUserId currentProfile.id)}}
            {{else}}
                <button class="follow-button">Follow</button>
            {{/if}}
        {{else}}
            <button class="following-button">Following</button>
        {{/if}}
    </div>
    <div>
        <button  class="follows-count">Followers: {{followerCount}}</span>
        <button  class="following-count">Following: {{followingCount}}</span>
    </div>

    <p>{{followers}}</p>

    <div class="follower-modal">
        <div class="modal-content">
            <div class="close-div">
                <span class="close-button">&times;</span>
            </div>
            <div class="content-div">
                <span>Followers</span>
                {{#each followers as |follower|}}
                    <div class="follower-div">
                        <a class="model-follower-list" href="/profile/{{follower.user.id}}"> {{follower.user.username}}</a>
                    </div>
                {{/each}}
            </div>
        </div>
    </div>

    <div class="follows-modal">
        <div class="modal-content">
            <span class="close">hello</span>
            <p>Some text in the Modal..</p>
        </div>
    </div>

</div>

<div class="new-post-div">
    {{#if (is_creator)}}
    {{> newPost}}
    {{/if}}
</div>


<div class="post-container">
    <div class="main-div-post">
        <div class="post-div">
            {{#if posts }}
                {{#each posts as |post|}}
                    {{> post is_current_user=is_current_user currentUserId=../currentUserId currentProfile=../currentProfile}}
                {{/each}}
            {{else}}
                <p>"They have no posts"</p>
            {{/if}}
        </div>
    </div>
</div>